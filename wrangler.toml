# Cloudflare Pages configuration
name = "website"
pages_build_output_dir = ".vercel/output/static"
compatibility_date = "2024-12-01"
compatibility_flags = ["nodejs_compat"]

# =============================================================================
# Production Environment Variables
# =============================================================================
# NEXT_PUBLIC_* variables are bundled into client-side JavaScript at build time
#
# IMPORTANT: CLERK_SECRET_KEY must be set as a Secret in Cloudflare Dashboard
# Go to: Pages → website → Settings → Environment Variables → Add Secret
# =============================================================================

[env.production.vars]
NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY = "pk_test_Y29tbXVuYWwtZGFzc2llLTQwLmNsZXJrLmFjY291bnRzLmRldiQ"
NEXT_PUBLIC_CLERK_SIGN_IN_URL = "/sign-in"
NEXT_PUBLIC_CLERK_SIGN_UP_URL = "/sign-up"
NEXT_PUBLIC_CLERK_AFTER_SIGN_IN_URL = "/portal"
NEXT_PUBLIC_CLERK_AFTER_SIGN_UP_URL = "/portal"
NEXT_PUBLIC_PORTAL_WORKER_URL = "https://koby-portal.voidinfrastructuretechnologies.workers.dev"
NEXT_PUBLIC_KOBY_INTERNAL_ORG_ID = "org_koby_internal"

# =============================================================================
# Preview uses same as Production (single environment)
# =============================================================================
[env.preview.vars]
NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY = "pk_test_Y29tbXVuYWwtZGFzc2llLTQwLmNsZXJrLmFjY291bnRzLmRldiQ"
NEXT_PUBLIC_CLERK_SIGN_IN_URL = "/sign-in"
NEXT_PUBLIC_CLERK_SIGN_UP_URL = "/sign-up"
NEXT_PUBLIC_CLERK_AFTER_SIGN_IN_URL = "/portal"
NEXT_PUBLIC_CLERK_AFTER_SIGN_UP_URL = "/portal"
NEXT_PUBLIC_PORTAL_WORKER_URL = "https://koby-portal.voidinfrastructuretechnologies.workers.dev"
NEXT_PUBLIC_KOBY_INTERNAL_ORG_ID = "org_koby_internal"
